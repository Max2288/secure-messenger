# üì° Secure Messenger

**Secure Messenger** ‚Äî —ç—Ç–æ –∑–∞—â–∏—â—ë–Ω–Ω—ã–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –¥–∏–ø–ª–æ–º–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞. –û–Ω –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è:

- **Backend**: Django –∏ FastAPI
- **Frontend**: React
- **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: Docker Compose
- **–¢—É–Ω–Ω–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ**: ngrok
- **–†–µ–∞–ª—Ç–∞–π–º**: Centrifugo
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: Grafana
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: Loki

## üß∞ –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–π —Å—Ç–µ–∫

### Backend

- **Django (–ø–æ—Ä—Ç 1024)**: –ú–∏–≥—Ä–∞—Ü–∏–∏ –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å.
- **FastAPI (–ø–æ—Ä—Ç 1026)**: –û–±—Ä–∞–±–æ—Ç–∫–∞ API-–∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.

### Frontend

- **React (–ø–æ—Ä—Ç 3006)**: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

- **Docker Compose**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–Ω–æ–≥–æ–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–æ–π —Å—Ä–µ–¥–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
- **ngrok (—Ç—É–Ω–Ω–µ–ª–∏—Ä—É–µ—Ç –ø–æ—Ä—Ç 8000)**: –°–æ–∑–¥–∞–Ω–∏–µ –ø—É–±–ª–∏—á–Ω–æ–≥–æ HTTPS-—Ç—É–Ω–Ω–µ–ª—è –∫ –ª–æ–∫–∞–ª—å–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏.
- **Centrifugo (–ø–æ—Ä—Ç 8000)**: –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ä–µ–∞–ª—Ç–∞–π–º-–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—é —á–µ—Ä–µ–∑ WebSocket.
- **Grafana (–ø–æ—Ä—Ç 3000)**: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫ —Å–∏—Å—Ç–µ–º—ã.

## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**

   ```bash
   git clone https://github.com/Max2288/secure-messenger.git
   cd secure-messenger
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ ngrok –¥–ª—è –ø—Ä–æ–±—Ä–æ—Å–∞ –ø–æ—Ä—Ç–∞ Centrifugo (8000):**

   ```bash
   ngrok http 8000
   ```

   –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤—ã–¥–∞–Ω–Ω—ã–π –ø—É–±–ª–∏—á–Ω—ã–π URL –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö.

3. **–°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ç—å –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–ª–∞–≥–∏–Ω**

   subnet –∏ gateway —É–∫–∞–∂–∏—Ç–µ —Å–≤–æ–∏(–∏—Ö –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å —á–µ—Ä–µ–∑ ipconfig || ifconfig –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–∏—Å—Ç–µ–º—ã)
   ```bash
   docker network create \
     --driver=bridge \
     --subnet=10.10.0.0/24 \
     --gateway=10.10.0.1 \
     custom_bridge
   ```
   
   ```bash
   docker plugin install grafana/loki-docker-driver:2.9.4 --alias loki --grant-all-permissions
   ```

4. **–°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö**
   
   backend/django/conf
   backend/fastapi
   
   .env –º–æ–∂–Ω–æ —Ü–µ–ª–∏–∫–æ–º —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–∑ .env.like(–¥–ª—è —Ñ–∞—Å—Ç–∞–ø–∏ –∑–∞–º–µ–Ω–∏—Ç—å —É—Ä–ª —Ü–µ–Ω—Ç—Ä–∏—Ñ—É–≥–∏ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –∏–∑ ngrok)
   
   frontend/my-chat-app
   –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å .env .env.local

   **REACT_APP_API_BASE_URL**=http://localhost:1026/api/v1
   **REACT_APP_CENTRIFUGO_WS**=wss://0a22-18-153-55-148.ngrok-free.app/connection/websocket?format=json - **—É—Ä–ª –¥–ª—è —Ü–µ–Ω—Ç—Ä–∏—Ñ—É–≥–∏ –∑–∞–º–µ–Ω—è–µ–º –Ω–∞ –∞–π–ø–∏ –∫–æ—Ç–æ—Ä—ã–π –≤—ã–¥–∞–ª ngrok**

   
5. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã —Å –ø–æ–º–æ—â—å—é Docker Compose:**

   ```bash
   cd backend/django
   docker-compose up --build
   ```
   
   
   ```bash
   cd backend/fastapi
   docker-compose up --build
   ```

   –≠—Ç–æ –ø–æ–¥–Ω–∏–º–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–ª—è Django, FastAPI, Centrifugo –∏ Grafana.

6. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**

   ```bash
   cd frontend/my-chat-app
   npm install
   ```

7. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**

   ```bash
   npm start dev
   ```

   –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:3006`.

## üîó –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### Django (–ø–æ—Ä—Ç 1024)

- `GET /admin/`: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å Django. (–∫—Ä–µ–¥—ã admin admin)
![img.png](images/admin_panel.png)

### FastAPI (–ø–æ—Ä—Ç 1026)
   –ü—Ä–∏–º–µ—Ä—ã —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- `GET api/v1/message/`: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π.
- `POST api/v1/message/`: –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è.
- `GET api/v1/message/{id}/`: –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ ID.
- `GET api/v1/metrics`: –ú–µ—Ç—Ä–∏–∫–∏
![img.png](images/endpoints.png)

### Centrifugo (–ø–æ—Ä—Ç 8000, —á–µ—Ä–µ–∑ ngrok)

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–µ–∞–ª—Ç–∞–π–º-–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ WebSocket.
- –ö—Ä–µ–¥—ã –¥–ª—è –≤—Ö–æ–¥–∞ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ backend/fastapi/centrifugo/config.json

### Grafana (–ø–æ—Ä—Ç 3000)

- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç—Ä–∏–∫ —Å–∏—Å—Ç–µ–º—ã.
- –ï—Å—Ç—å –≥–æ—Ç–æ–≤—ã–π –¥–∞—à–±–æ—Ä–¥, –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ —É—Ä–ª –∏ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –µ–≥–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å

![img.png](images/dashboard_1.png)
![img.png](images/dashboard_2.png)

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- –í—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –ø—Ä–æ–µ–∫—Ç—É –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–ø–æ—á–∫–µ docs
- –¢–∞–º –ø—Ä–∏—Å—É—Ç–≤—É–µ—Ç —Å—Ö–µ–º–∞ –±–∞–∑—ã, —Å–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª—é—á–µ–π —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è, –∏—Ö –æ–±–º–µ–Ω
- –î–æ—Å—Ç–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –∏—Ö —Å—Ö–µ–º—ã


### –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã

–û–±—â–µ–Ω–∏–µ –º–µ–∂–¥—É 2 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ —á–∞—Ç –≤ –ª–µ–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É, –æ–Ω–æ –∏–¥–µ—Ç –ø–æ –∞–π–¥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
![img.png](images/communication_users.png)

–ü—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ - 2 –≥–∞–ª–æ—á–∫–∏, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ - 1(–±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ –Ω–µ –ø—Ä–æ–±—Ä–æ—à–µ–Ω —Ö—É–∫ –Ω–∞ —ç—Ç–æ)

–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

![img.png](images/login_page.png)

–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

![img_1.png](images/register_page.png)

**–ì—Ä—É–ø–ø–æ–≤–æ–π —á–∞—Ç –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ —á—Ä–µ–µ–∑ –∞–¥–º–∏–Ω–∫—É, –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å –µ—â–µ 1 —É—á–∞—Å—Ç–Ω–∏–∫–∞ —á–∞—Ç–∞(–≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ privat/group –≤ —á–∞—Ç–∞—Ö –Ω–µ —Å—Ç–æ–∏—Ç)**

**–ü—Ä–æ—á—Ç–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ 2 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –ø–æ–ª–µ –≤–≤–æ–¥–∞**

## üìù –ê–≤—Ç–æ—Ä

- **–ú–∞–∫—Å–∏–º –ë–µ–∑–±–æ—Ä–æ–¥–æ–≤** ‚Äî [GitHub](https://github.com/Max2288)

## –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å

- –ë–æ–ª—å—à–æ–µ —Å–ø–∞—Å–∏–±–æ **–î–∞–Ω–∏–∏–ª—É –°–º–∏—Ä–Ω–æ–≤—É** –∑–∞ –¥–æ—Å—Ç—É–ø –∫ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏—è  ‚Äî [GitHub](https://github.com/radugaboost)